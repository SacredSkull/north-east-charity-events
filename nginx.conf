# Default server configuration
#
server {
        listen 80 default_server;
        listen [::]:80 default_server;

	server_name localhost;

        # SSL configuration
        #
        # listen 443 ssl default_server;
        # listen [::]:443 ssl default_server;
        #
        # Self signed certs generated by the ssl-cert package
        # Don't use them in a production server!
        #
        # include snippets/snakeoil.c onf;
        sendfile off;

        root /var/www/src/public;

        error_log /var/www/logs/error.nginx.log;
        access_log /var/www/logs/access.nginx.log;

        # Add index.php to the list if you are using PHP
        #index index.html index.php;

        #server_name _ localhost 127.0.0.1 0.0.0.0;
        include hhvm.conf;

        fastcgi_buffering               on;
        fastcgi_buffer_size             16k;
        fastcgi_buffers                 16 16k;

        location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri /index.php;
        }

        location /tests {
                root /var/www/tests;
                #try_files $uri =404;
        }
}
